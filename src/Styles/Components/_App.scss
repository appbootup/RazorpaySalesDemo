.App {
  position: relative;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  transition: width 0.3s, margin 0.3s;
}

.shrunk {
  width: 100vw - $width-sidebar;
  margin-left: $width-sidebar;
}

%btnDemoNav {
  position: absolute;
  top: 20px;
  left: 20px;
  width: 75px;
  height: 55px;
  background-color: rgba(255, 255, 255, 0.2);
  opacity: 0.8;
  z-index: 9999;
}

#btnStepDemoBack {
  @extend %btnDemoNav;
  background-image: url('../images/icon_arrow_white.svg');
  background-repeat: no-repeat;
  background-position: center center;
}

#btnStepDemoForward{
  @extend %btnDemoNav;
  left: 100px;
  background-image: url('../images/icon_arrow_white.svg');
  background-repeat: no-repeat;
  background-position: center center;
  transform: rotate(180deg);
}

#btnEndDemo {
  @extend %btnDemoNav;
  left: auto;
  right: 20px;
  background-image: url('../images/icon_home.svg');
  background-repeat: no-repeat;
  background-position: center center;
  transition: all 0.3s $slide-easing;
}

#btnStartDemo {
  margin-top: 20px;
}

// Steps of final payment animation
$rotation: 50deg;

// 0th sets up the stage, shrinks the payment modal a bit scales up the 
// browser window a bit
.f-anim-s0 {
  .paymentModal {
    transform: scale(0.95) translateY(50px);
  }

  .backdropContainer {
    transform: scale(1.05);
  }

  .paymentButtons {
    transform: scale(1);
  }

  #btnStartDemo {
    visibility: hidden;
  }
}

// First Step
.f-anim-s1 {
  .backdropContainer,
  .masterCardContainer {
    transform: translate3d(90px, 0, 0) rotateY($rotation);
  }

  .paymentModal {
    transform: translate3d(90px, 50px, 0) rotateY($rotation);
  }

  .masterCardContainer {
    transform: rotateY($rotation);
  }
}

// Second Step
.f-anim-s2 {
  .backdropContainer {
    transform: translate3d(-35px, 0, -60px) rotateY($rotation);
    opacity: 0.8;
  }

  .paymentModal {
    transform: translate3d(-35px, 50px, -60px) rotateY($rotation);
  }

 .masterCardContainer {
    visibility: visible;
    transform: translate3d(0px, 0, 140px) rotateY($rotation);
    .masterCardWindow {
      transform: scale(1);
    }
  }
}

// Third step
.f-anim-s3 {
  .paymentModal,
  .backdropContainer,
  .masterCardContainer {
    transform: translateZ(0) rotateY($rotation);
    opacity: 1;
  }

  .paymentModal {
    opacity: 0;
  }

  .masterCardContainer{
    transform: translate3d(0, 0, 0) rotateY($rotation);
    .masterCardWindow {
      transform: scale(0);
      transition: transform 0.3s $slide-easing;
    }
    .paymentConfirmationWindow {
      transform: scale(1) translate3d(-50%, -50%, 0);
    }
  }
}

// Fourth step
.f-anim-s4 {
  .paymentModal,
  .backdropContainer,
  .masterCardContainer {
    transform: translateZ(0) rotateY(0);
  }

  .masterCardContainer {
    transition: transform 0.7s $slide-easing;
    transform: rotateY(0);
  }
}